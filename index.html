<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gifthouse.pro - Personalized Gaming Experience</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="js/generateJsonFile.js"></script>
</head>
<body>
  <!-- Header Section -->
  <header class="header">
    <div class="container">
      <div class="logo">
        <h1>ğŸ® Gifthouse.pro</h1>
        <p>Create Your Perfect Gaming Gift</p>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <div class="hero-content">
        <h1>Transform Your Photo Into a Gaming Adventure</h1>
        <p>Create a personalized video game where you're the hero! Upload your photo, customize your character, and get ready for an epic gaming experience.</p>
        <div class="hero-features">
          <div class="feature">
            <span class="feature-icon">ğŸ¯</span>
            <span>Choose Your Game</span>
          </div>
          <div class="feature">
            <span class="feature-icon">ğŸ“¸</span>
            <span>Upload Your Photo</span>
          </div>
          <div class="feature">
            <span class="feature-icon">ğŸ®</span>
            <span>Play & Enjoy</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Reviews Section -->
  <section class="reviews-section">
    <div class="container">
      <div class="reviews-content">
        <h2>What Our Players Say</h2>
        <div class="reviews-grid">
          <div class="review-card">
            <div class="review-header">
              <span class="reviewer-avatar">ğŸ‘¤</span>
              <div class="reviewer-info">
                <h4>Hero Adventure</h4>
                <p class="review-stars">â­â­â­â­â­</p>
              </div>
            </div>
            <p class="review-text">This is a simple adventure game where you explore dungeons and fight monsters.</p>
          </div>
          
          <div class="review-card">
            <div class="review-header">
              <span class="reviewer-avatar">ğŸ‘¤</span>
              <div class="reviewer-info">
                <h4>Epic Quest</h4>
                <p class="review-stars">â­â­â­â­â­</p>
              </div>
            </div>
            <p class="review-text">Amazing personalized experience! The game feels truly unique with my character.</p>
          </div>
          
          <div class="review-card">
            <div class="review-header">
              <span class="reviewer-avatar">ğŸ‘¤</span>
              <div class="reviewer-info">
                <h4>Dungeon Master</h4>
                <p class="review-stars">â­â­â­â­â­</p>
              </div>
            </div>
            <p class="review-text">Incredible graphics and smooth gameplay. Highly recommend for all ages!</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Form Section -->
  <main class="main-content">
    <div class="container">
      <!-- Progress Bar -->
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-step active" id="step1Indicator">
            <div class="step-number">1</div>
            <span>Choose Game</span>
          </div>
          <div class="progress-step" id="step2Indicator">
            <div class="step-number">2</div>
            <span>Customize</span>
          </div>
          <div class="progress-step" id="step3Indicator">
            <div class="step-number">3</div>
            <span>Order</span>
          </div>
        </div>
      </div>

      <!-- Step 1: Game Selection -->
      <div class="form-step active" id="step1">
        <div class="step-header">
          <h2>ğŸ® Choose Your Game</h2>
          <p>Select the game template you'd like to personalize</p>
        </div>
        
        <div class="game-grid" id="gameMenu">
          <!-- Games will be populated by JavaScript -->
        </div>
        
        <input type="hidden" id="gameSelect" value="">
        
        <div class="step-navigation">
          <button class="btn btn-primary" id="nextStep1" disabled onclick="nextStep(1)">
            Continue to Customization
            <span class="btn-arrow">â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 2: Photo Customization -->
      <div class="form-step" id="step2">
        <div class="step-header">
          <h2>ğŸ“¸ Customize Your Character</h2>
          <p>Upload your photo and adjust it to fit perfectly in the game</p>
        </div>
        
        <div class="customization-container">
          <div class="photo-upload-section">
            <div class="upload-area" onclick="document.getElementById('photoInput').click()">
              <div class="upload-icon">ğŸ“·</div>
              <p>Click to upload your photo</p>
              <span class="upload-hint">JPG, PNG, or GIF up to 5MB</span>
            </div>
            <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="updateStep2Status(); previewPhoto()">
          </div>
          
          <div class="preview-section">
            <div class="canvas-container">
              <canvas id="photoCanvas"></canvas>
              <img id="overlayImage" src="./Resources/no-selected-gm-default-img.png" alt="Character Mask" />
            </div>
            
            <div class="edit-controls" id="controlsPanel">
              <h4>Edit Your Photo</h4>
              <div class="control-buttons">
                <button class="control-btn" title="Rotate Left" onclick="rotateImage(-10)">âŸ²</button>
                <button class="control-btn" title="Rotate Right" onclick="rotateImage(10)">âŸ³</button>
                <button class="control-btn" title="Zoom In" onclick="zoomImage(1.1)">ğŸ”+</button>
                <button class="control-btn" title="Zoom Out" onclick="zoomImage(0.9)">ğŸ”-</button>
                <button class="control-btn" title="Flip" onclick="flipPhoto()">â‡‹</button>
                <button class="control-btn" title="Reset" onclick="resetTransformations()">â†º</button>
              </div>
            </div>
          </div>
        </div>
        
        <div class="step-navigation">
          <button class="btn btn-secondary" onclick="previousStep(2)">
            <span class="btn-arrow">â†</span>
            Back to Game Selection
          </button>
          <button class="btn btn-primary" id="nextStep2" disabled onclick="nextStep(2)">
            Continue to Details
            <span class="btn-arrow">â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 3: Order Details -->
      <div class="form-step" id="step3">
        <div class="step-header">
          <h2>ğŸ“ Complete Your Order</h2>
          <p>Fill in your details and place your order</p>
        </div>
        
        <div class="order-form">
          <div class="form-group">
            <label for="name">Your Name</label>
            <input type="text" id="name" placeholder="Enter your full name" required oninput="updateStep3Status()">
          </div>
          
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" placeholder="Enter your email" required oninput="validateEmail()">
            <div id="emailError" class="error-message">Please enter a valid email address</div>
          </div>
          
          <div class="form-group">
            <label for="startMessage">Start Message</label>
            <input type="text" id="startMessage" placeholder="Message shown at the beginning (max 50 chars)" maxlength="50" oninput="updateStep4Status()">
            <span class="char-count">0/50</span>
          </div>
          
          <div class="form-group">
            <label for="finishMessage">Finish Message</label>
            <input type="text" id="finishMessage" placeholder="Message shown when completing the game (max 50 chars)" maxlength="50" oninput="updateStep4Status()">
            <span class="char-count">0/50</span>
          </div>
          
          <div class="terms-section">
            <div class="terms-checkbox">
              <input type="checkbox" id="termsCheckbox" onchange="updateStep5Status()">
              <label for="termsCheckbox">
                I agree to the <a href="#" class="terms-link">Terms and Conditions</a>
              </label>
            </div>
          </div>
          
          <div class="order-summary">
            <div class="summary-item">
              <span>Game Template:</span>
              <span id="selectedGameName">Not selected</span>
            </div>
            <div class="summary-item">
              <span>Total Price:</span>
              <span class="price">FREE</span>
            </div>
          </div>
          
          <button class="btn btn-success btn-large" id="placeOrderButton" type="button" onclick="placeOrder()" disabled>
            ğŸ® Place Your Order
          </button>
        </div>
        
        <div class="step-navigation">
          <button class="btn btn-secondary" onclick="previousStep(3)">
            <span class="btn-arrow">â†</span>
            Back to Customization
          </button>
        </div>
      </div>
    </div>
  </main>

  <!-- Success Modal -->
  <div id="popup" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <div class="success-icon">ğŸ‰</div>
        <h3>Order Placed Successfully!</h3>
      </div>
      <div class="modal-body">
        <p>Your personalized game order has been submitted! We'll start working on it right away.</p>
        <p>You'll receive an email confirmation shortly with your order details.</p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" onclick="closePopup()">Great!</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2024 Gifthouse.pro - Create Your Perfect Gaming Gift</p>
    </div>
  </footer>

  <script src="js/scripts.js"></script>
  <script src="js/indexscript.js"></script>
</body>
</html>